enum SignatureType {
    "CL",
};

enum CreateCredentialRequestError {
    "SomeError",
};

dictionary CredentialDefinitionData {
    string primary;
    string? revocation;
};

dictionary CredentialDefinition {
    string schema_id;
    SignatureType signature_type;
    string tag;
    CredentialDefinitionData value;
    string issuer_id;
};

dictionary CredentialOffer {
    string schema_id;
    string cred_def_id;
    string key_correctness_proof;
    string nonce;
    string? method_name;
};

dictionary CredentialRequest {
    string entropy;
    string prover_did;
    string cred_def_id;
};

dictionary CredentialRequestMetadata {
    string link_secret_name;
};

dictionary CreateCredentialRequestResult {
    CredentialRequest request;
    CredentialRequestMetadata metadata;
};

namespace anoncreds {
    [Throws=CreateCredentialRequestError]
    CreateCredentialRequestResult create_credential_request(
        [ByRef] string entropy,
        [ByRef] string prover_did,
        [ByRef] CredentialDefinition cred_def,
        [ByRef] string link_secret,
        [ByRef] string link_secret_id,
        [ByRef] CredentialOffer credential_offer
    );
};